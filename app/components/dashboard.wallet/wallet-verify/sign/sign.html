<!-- 
  Helperbit: a p2p donation platform (frontend)
  Copyright (C) 2016-2021  Davide Gessa (gessadavide@gmail.com)
  Copyright (C) 2016-2021  Helperbit team
  
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>
 -->

<div class="modal-header">
	<button type="button" class="close" aria-label="Close" (click)="activeModal.close()">
		<span aria-hidden="true">&times;</span>
	</button>
	<h4 class="modal-title" id="myModalLabel" translate>Sign Verification</h4>
</div>

<div class="modal-body">
	<div class="row">
		<div class="col-xs-12">
			<response-messages [message]="responseMessage"></response-messages>
		</div>
	</div>

	<table class="table" *ngIf="tx">
		<tbody>
			<tr>
				<td translate>Wallet</td>
				<td class="text-break-all">{{tx.wallet.label}}</td>
			</tr>
			<tr>
				<td translate>Address</td>
				<td class="text-break-all">{{tx.wallet.address}}</td>
			</tr>
			<tr>
				<td translate>Date</td>
				<td>{{tx.time|date:'medium'}}</td>
			</tr>
			<tr *ngIf="tx.wallet.ismultisig">
				<td translate>Signatures</td>
				<td>{{tx.signers.length}} of {{tx.n}}</td>
			</tr>
		</tbody>
	</table>

	<wallet-sign [config]="signConfig"></wallet-sign>


	<hr>

	<div class="row">
		<div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 text-lg-left text-md-left text-sm-left text-xs-center">
			<button type="button" class="btn btn-danger btn-xs-block"  (click)="activeModal.close()" translate>Close</button>
		</div>
		<div class="col-lg-8 col-md-8 col-sm-8 col-xs-12 text-lg-right text-md-right text-sm-right text-xs-center margin-xs-top-5">
			<button type="button" class="btn btn-default btn-xs-block margin-xs-top-5" [loading]="isLoading" [disabled]="isLoading" (click)="sign()">
				<i class="fa fa-pencil"></i>
				<span translate>Sign</span>
			</button>
		</div>
	</div>
</div>