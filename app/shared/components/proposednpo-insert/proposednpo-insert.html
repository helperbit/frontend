<!-- 
  Helperbit: a p2p donation platform (frontend)
  Copyright (C) 2016-2021  Davide Gessa (gessadavide@gmail.com)
  Copyright (C) 2016-2021  Helperbit team
  
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public License
  along with this program.  If not, see <https://www.gnu.org/licenses/>
 -->

<div class="modal-header">
	<button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="activeModal.close()">
		<span aria-hidden="true">&times;</span>
	</button>
	<h4 class="modal-title" id="myModalLabel">
		{{modals.proposedNpo.title}}
		<i class="fa fa-question-circle" [position]="'bottom'" [tooltip]="modals.proposedNpo.tooltip.content"></i>
	</h4>
</div>
<div class="modal-body">
	<div class="row">
		<div class="col-xs-12">
			<response-messages [message]="wizard.step0.responseMessage"></response-messages>
		</div>
	</div>

	<aw-wizard>
		<aw-wizard-step [stepId]="0" [stepTitle]="wizard.step0.titles.main">
			<h1 class="text-center text-uppercase">{{ wizard.step0.titles.heading }}</h1>

			<div class="row">
				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center"> {{ wizard.step0.titles.description }}
				</div>
			</div>

			<form [formGroup]="wizard.step0">
				<formly-form [form]="wizard.step0" [fields]="wizard.step0.fields" [model]="wizard.step0.model">
				</formly-form>
				<div class="row margin-top-15">
					<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
						<button (click)="send(wizard.step0.model)" [disabled]="!wizard.step0.valid" class="btn btn-default btn-xs-block"
							translate>Send proposal</button>
					</div>
				</div>
			</form>
		</aw-wizard-step>

		<aw-wizard-step [stepId]="1" [stepTitle]="wizard.step1.titles.main">
			<div class="row">
				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center completed-img">
					<img src="/media/completed-green.png">
				</div>
				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center margin-top-20 completed-text">
					<p>
						<span translate>Your proposal has been submitted.</span> <br>
						<span translate>The proposal will be visible on this</span>
						<a routerLink="/charity/proposed" translate>page</a>
						<span translate>after an admin validation</span>.
					</p>
				</div>
			</div>
		</aw-wizard-step>
	</aw-wizard>
</div>